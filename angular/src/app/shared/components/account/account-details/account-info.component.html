<section class="border-t border-gray-900/10 pt-12">
  <h2 class="white-section-title">Jouw gegevens</h2>
  <p>Wijzig hier jouw persoonlijke gegevens.</p>

  <form (ngSubmit)="onSubmit()" [formGroup]="form" class="mt-6 w-full space-y-6">
    <fieldset>
      <div class="form-field">
        <label for="email">E-mailadres</label>
        <input id="email" type="email" readonly disabled [value]="email" />
        <p class="text-sm text-gray-500 mt-1.5">Je kan je e-mailadres niet wijzigen. Contacteer ons als je dit toch wil aanpassen.</p>
      </div>
    </fieldset>

    <fieldset>
      <div class="form-field" [ngClass]="{ 'is-invalid': f['telephone'].errors && (f['telephone'].dirty || f['telephone'].touched) }">
        <label for="phoneNumber">Telefoonnummer</label>
        <input id="phoneNumber" type="text" formControlName="telephone" [attr.aria-invalid]="f['telephone'].errors !== null" [attr.aria-errormessage]="f['telephone'].errors !== null ? 'phoneNumber-Errors' : ''" />

        <!-- Error messages -->
        <ul *ngIf="f['telephone'].errors && (f['telephone'].dirty || f['telephone'].touched)" class="field-error-message-list" id="phoneNumber-errors">
          <li *ngIf="f['telephone'].errors?.['required']">Telefoonnummer is verplicht</li>
        </ul>
      </div>
    </fieldset>

    <fieldset>
      <legend class="sr-only">School gegevens</legend>

      <div [ngClass]="{ 'form-field col-span-4': true, 'is-invalid': f['graduation_tract'].errors && (f['graduation_tract'].dirty || f['graduation_tract'].touched) }">
        <label for="graduationTracts">Afstudeerrichting</label>
        <select id="graduationTracts" formControlName="graduation_tract"  [attr.aria-invalid]="f['graduation_tract'].errors !== null" [attr.aria-errormessage]="f['graduation_tract'].errors !== null ? 'graduationTracts-Errors' : ''" >
          <option *ngFor="let item of graduationTracts | keyvalue" [ngValue]="item.key">{{ item.value }}</option>
        </select>

        <!-- Error messages -->
        <ul *ngIf="f['graduation_tract'].errors && (f['graduation_tract'].dirty || f['graduation_tract'].touched)" class="field-error-message-list" id="graduationTracts-errors">
          <li *ngIf="f['graduation_tract'].errors?.['required']">Afstudeerrichting is verplicht</li>
        </ul>
      </div>
    </fieldset>

    <fieldset class="grid space-y-1.5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3">
      <legend>Jouw interesses</legend>

      <div class="form-field form-field-checkbox">
        <input id="recreationInterestCheckbox" type="checkbox" formControlName="recreation_interest">
        <label for="recreationInterestCheckbox">Ik wil graag meer weten over recreatie (TD's, Cantussen, ...)</label>
      </div>

      <div class="form-field form-field-checkbox">
        <input id="sportInterestCheckbox" type="checkbox" formControlName="sport_interest">
        <label for="sportInterestCheckbox">Ik wil graag meer weten over sport</label>
      </div>

      <div class="form-field form-field-checkbox">
        <input id="relationsInterestCheckbox" type="checkbox" formControlName="relations_interest">
        <label for="relationsInterestCheckbox">Ik wil graag meer weten over bedrijfsevents</label>
      </div>
    </fieldset>

    <div class="form-field text-right">
      <button type="submit" class="button button-danger" [disabled]="form.invalid || loading">Opslaan</button>
    </div>
  </form>
</section>
